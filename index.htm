<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Dr. Chuck Office Hours</title>
    <link href="http://google-developers.appspot.com/maps/documentation/javascript/examples/default.css" rel="stylesheet">

    <!-- If you are in China, you may need to use theis site for the Google Maps code
    <script src="http://maps.google.cn/maps/api/js" type="text/javascript"></script> -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBZ0IgXbFmVe8IHBB70JOzzbrfcIA9IGl8"
  type="text/javascript"></script>
    <script src="where.js"></script>
    <script>

      function initialize() {
        if ( myData.length > 0 ) {
            var myLatlng = new google.maps.LatLng(myData[0][0], myData[0][1]);
            var myZoom = 6;
        } else {
            var myLatlng = new google.maps.LatLng(42.2790722,-83.7401895);
            var myZoom = 3;
        }
        var mapOptions = {
          zoom: myZoom,
          center: myLatlng,
          mapTypeId: google.maps.MapTypeId.ROADMAP
        }
        var map = new google.maps.Map(document.getElementById('map_canvas'), mapOptions);

        var markers = [];
        for(i=myData.length-1;i>=0;i--) {
            var row = myData[i];
             window.console && console.log(row);
            // if ( i < 3 ) { alert(row); }
            var newLatlng = new google.maps.LatLng(row[0], row[1]);
            var marker = new google.maps.Marker({
                position: newLatlng,
                map: map,
                title: row[2],
                url: row[3]
            });
            if ( i == 0 ) {
                marker.setIcon('https://maps.google.com/mapfiles/ms/icons/green-dot.png')
            } else if ( i > 1 && i <= 10 ) {
                marker.setIcon('https://maps.google.com/mapfiles/ms/icons/yellow-dot.png')
            } else if ( i >= 11 && i <= 20 ) {
                marker.setIcon('https://maps.google.com/mapfiles/ms/icons/purple-dot.png')
            } else if ( i >= 21 && i <= 30 ) {
                marker.setIcon('https://maps.google.com/mapfiles/ms/icons/blue-dot.png')
            } else {
                marker.setIcon('https://maps.google.com/mapfiles/ms/icons/red-dot.png')
            }
            google.maps.event.addListener(marker, 'click', function() {
                window.open('https://www.youtube.com/watch?v='+this.url);
            });
            markers.push(marker);
        }
      }
    </script>
  </head>
  <body onload="initialize()">
<div id="map_canvas" style="height: 100%; width: 100%"></div>
<div style="border: orange 5px solid; position: absolute; top:10px; right: 10px; background: white; margin: 5px; padding: 5px;"><b>Dr. Chuck's Office Hours Around the World<br/>
<a href="https://calendar.google.com/calendar/embed?src=umich.edu_bbmt0t2bt0pg29bt1nhjavr5uo%40group.calendar.google.com&ctz=America/New_York
" target="_blank">Office Hours - Calendar</a>
 (<a href="http://online.dr-chuck.com" target="_blank">Dr. Chuck Online</a>)
</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-423997-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>
